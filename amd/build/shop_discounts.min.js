/**
 *
 * @module     block_shop_discounts
 * @package    blocks
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("block_shop_discounts/shop_discounts",["jquery","core/log","core/config"],(function($,log,cfg){return{init:function(){$(".shop-discount-data").on("change",this.submit_discount_form),$(".shop-delete-code").on("click",this.clear_discount_code),log.debug("Shop discount block AMD initialized")},clear_discount_code:function(e){e.preventDefault(),e.stopPropagation();var that=$(this),shopid=that.attr("data-shopid"),categoryid=that.attr("data-categoryid"),discountid=that.attr("data-discountid"),url=cfg.wwwroot+"/local/shop/front/view.php";url+="?view=shop",url+="&category="+categoryid,url+="&shopid="+shopid,url+="&what=cleardiscountcode",url+="&sesskey="+cfg.sesskey,url+="&discountid="+discountid,location.replace(url)},submit_discount_form:function(){var id=$(this).attr("data-discountid");$("#shop-discount-"+id).submit()}}}));

//# sourceMappingURL=shop_discounts.min.js.map